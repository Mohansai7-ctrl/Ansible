- name: Command vs shell in ansible
  hosts: local
  connection: local
  become: yes
  tasks:
  - name: using command module
    ansible.builtin.command: id ramesh
    register: USER
      #msg: "User ramesh is not existing, kindly create the user to proceed further"
    #when: USER.rc != 0

  - name: printing the user info
    ansible.builtin.debug:
      msg: "user info is {{ USER }}"

  - name: as user is not existing, going to create in the local means ansible server
    ansible.builtin.command: useradd ramesh
    when: USER.rc != 0
      msg: "now user info is {{USER}}"
